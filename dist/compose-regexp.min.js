/**@license MIT-compose-regexp.js-©Pierre-Yves Gérardy*/
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("compose-regexp",["exports"],e):(n="undefined"!=typeof globalThis?globalThis:n||self,e(n.composeRegexp={}))}(this,function(n){"use strict";function e(n){return n}function r(n){return"\\"+("number"==typeof n?String(n):"k<"+n+">")}function t(n){return Object.assign(r.bind(null,n),{ref:!0})}function u(n){return"function"==typeof n&&n.ref}function i(n){var e,r=!1;for(G.lastIndex=0;e=G.exec(n);){if("["===e[0]&&(r=!0),"]"===e[0]&&(r=!1),r&&null!=e[1]&&!H.test(e[1]))return!0;if(!r&&null!=e[1]&&!J.test(e[1]))return!0}return!1}function o(n){var e=!1;return n.replace(K,function(n){if("["===n&&(e=!0),"]"===n){if(!e)return"\\]";e=!1}if(!e){if("}"===n)return"\\}";if("."===n)return"(?:(?![\\u{10000}-\\u{10ffff}]).)"}return n})}function f(){function n(i){z.call(i,function(i){if(Array.isArray(i)&&n(i),i instanceof Z){var o=i.flags,f=-1!==o.indexOf("u"),l=o.replace("u","").split("").sort().join("");if(null!=u&&l!==u)throw new SyntaxError("Incompatible flags: '"+(u+t[t.length-1]?"u":"").split("").sort().join("")+"' and '"+o+"'");u=l,r.push(i.source),f?(t.push(!0),e=!0):t.push(!1)}})}var e=!1,r=[],t=[],u=null;C={getFlags:function(){return e?"u":""},check:function(){n(arguments)},setU:function(){e=!0},fixIfPossible:function(n){if(e){var u=r.indexOf(n.source);if(!t[u]){if(i(n.source))throw new SyntaxError("Can't upgrade the RegExp to Unicode "+n);return o(n.source)}}return n.source}}}function l(){var n=0;return function(e,r){if(u(r))rn.call(e,r());else{var t=0,i=!1,o=r.replace(Q,function(e,r,u){if(!i&&("("===r&&t++,null!=u)){var o=Number(u)+n;if(o>99)throw new RangeError("Too many back references");return"\\"+String(o)}return"["===r&&(i=!0),"]"===r&&(i=!1),e});n+=t,rn.call(e,o)}return e}}function a(n){var e=!1;return n.replace(Q,function(n,r,t){if(!e&&null!=t){var u=Number(t)+1;if(u>99)throw new RangeError("Too many back references");return"\\"+String(u)}return"["===r&&(e=!0),"]"===r&&(e=!1),n})}function c(n){if(-1===n.indexOf("|"))return!1;var e,r=0,t=!1;for(V.lastIndex=0;e=V.exec(n);)if(null==e[1]&&(t||"("!==e[0]||r++,t||")"!==e[0]||r--,t||"["!==e[0]&&"[-"!==e[0]||(t=!0),t&&"]"===e[0]&&(t=!1),0===r&&!t&&"|"===e[0]))return!0;return!1}function p(n){return"string"==typeof n&&c(n)?"(?:"+n+")":n}function s(n){if("("!==n.charAt(0)||")"!==n.charAt(n.length-1))return!1;var e,r=0,t=!1;for(V.lastIndex=0;e=V.exec(n);)if(null==e[1]){if(t||"("!==e[0]||r++,!t&&")"===e[0]&&0===--r&&e.index!==n.length-1)return!1;t||"["!==e[0]&&"[-"!==e||(t=!0),t&&"]"===e[0]&&(t=!1)}else if(e.index===n.length-2)return!1;return!0}function g(n,e){return 1===n.length||X.test(n)||e&&Y.test(n)||s(n)}function d(n){return nn.test(n)}function h(n){try{return en=N,rn=W,n()}finally{en=M,rn=q}}function y(n){if(u(n))return n;if(n instanceof Z)return C.fixIfPossible(n);var e=typeof n;if("number"!==e&&"string"!==e)throw new TypeError("Can't compose type "+e+" as RegExp");return String(n).replace(tn,"\\$&")}function x(n,r,t){var i=n.length;return 0===i?"":en.call(P.call(n,function(n){return u(n)?n:(""!==r||1===i&&1===t?e:p)(Array.isArray(n)?x(n,"",i):y(n))}),l(),[]).join(r)}function w(){return arguments.length?(f(),C.check.apply(null,arguments),new RegExp(x(arguments,"|",1),C.getFlags())):U}function E(){return C.check.apply(null,arguments),x(arguments,"",1)}function v(n,e){return function(){return arguments.length?(f(),new RegExp(n+E.apply(null,arguments)+e,C.getFlags())):U}}function m(n){if(1===arguments.length)return U;f();var e=pn.apply(E,arguments),r=C.getFlags();return new RegExp(g(e,-1!==r.indexOf("u"))?e+n:"(?:"+e+")"+n,r)}function b(n){if(!cn.test(n))throw new SyntaxError("Invalid suffix '"+n+"'.");return 1===arguments.length?m.bind(null,n):m.apply(null,arguments)}function R(n){var e=typeof n;return"string"===e&&d(n)||"number"===e&&n>0&&Math.round(n)===n}function S(n){if(!R(n))throw new TypeError("Bad ref");return t(n)}function I(){return arguments.length?(f(),new RegExp("("+a(E.apply(null,arguments))+")",C.getFlags())):new RegExp("()")}function O(n){if("string"!=typeof n)throw new TypeError("String expected, got "+typeof n);return d(n),arguments.length?(f(),new RegExp("(?<"+n+">"+a(pn.apply(E,arguments))+")",C.getFlags())):new RegExp("(<"+n+")")}function $(n){return 1===arguments.length?O.bind(null,n):O.apply(null,arguments)}function j(){return un(on(I.apply(null,arguments)),S(1))}function k(n,e){return n=n.split(""),e=e.split(""),e.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n.sort().join("")}function T(n,e){return n=n.split(""),e=e.split(""),n.filter(function(n){return-1===e.indexOf(n)}).sort().join("")}function A(n){f(),-1!==n.indexOf("u")&&C.setU();var e=pn.apply(E,arguments);return new RegExp(e,k(n,C.getFlags()))}function F(n){if("string"!=typeof n)throw TypeError("String expected as first argument, got "+typeof n);if(!L.test(n))throw new SyntaxError("Invalid flags: "+n);return 1===arguments.length?A.bind(null,n):A.apply(null,arguments)}function _(n,e){if(arguments.length>2)throw new RangeError("flags."+this.name+"() expects at most two arguments");f();var r=e&&e.flags||"";-1!==n.indexOf("u")&&C.setU();var t=pn.apply(E,arguments);return new RegExp(t,k(this(r,n),C.getFlags()))}var B=[];"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(n){try{new RegExp("",n),B.push(n)}catch(n){}});var C,D=-1!==B.indexOf("u"),U=new RegExp(""),z=[].forEach,P=[].map,q=[].push,M=[].reduce,N=[].reduceRight,W=[].unshift,Z=RegExp,L=new RegExp("^["+B.join("")+"]*$"),G=/\\u\d{4}|\\x\d{2}|\\(.)|[\[\]]/g,H=/[.?*+^$[\]\\(){}|dDsSwW-]/,J=/[.?*+^$[\]\\(){}|dDsSwW]/,K=/\{\d+,?\d*\}|\\.|]|\[|\}|\./g,Q=/\\(?!\d).|\(\?[^<]|([\[\](])|\\(\d{1,2})/g,V=/(\\.)|[-()|\[\]]/g,X=/^\\[^]$|^\[(?:\\[^]|[^\]])*\]$/,Y=/^\\p\{[A-Z-a-z][A-Za-z=]*\}$/,nn=D&&new RegExp("^[_$\\p{ID_Start}][$\\p{ID_Continue}]*","u"),en=M,rn=q,tn=/[.?*+^$[\]\\(){}|-]/g,un=v("",""),on=v("(?=",")"),fn=v("(?!",")"),ln=v("(?<=",")"),an=v("(?<!",")"),cn=/^(?:\+|\*|\?|\{(?=(\d+))\1(?=(,?))\2(?=(\d*))\3\})\??$/,pn=m.call,sn=b("?");F.add=function(n){if("string"!=typeof n)throw TypeError("String expected as first argument, got "+typeof n);if(!L.test(n))throw new SyntaxError("Invalid flags: "+n);return 1===arguments.length?_.bind(k,n):_.apply(k,arguments)},F.remove=function(n){if("string"!=typeof n)throw TypeError("String expected as first argument, got "+typeof n);return 1===arguments.length?_.bind(T,n):_.apply(T,arguments)},n.atomic=j,n.avoid=fn,n.buildLookBehind=h,n.capture=I,n.either=w,n.flags=F,n.lookAhead=on,n.lookBehind=ln,n.maybe=sn,n.namedCapture=$,n.notBehind=an,n.ref=S,n.sequence=un,n.suffix=b,Object.defineProperty(n,"__esModule",{value:!0})});
